<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <link
            href="https://fonts.googleapis.com/css2?family=Lato:wght@100;300;400&display=swap"
            rel="stylesheet"
    />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="/css/style.css" />
    <link rel="stylesheet" href="/css/style.css" />
    <title>Order Summary</title>

</head>
<body>
<header class="primary-header container group">
    <h1 class="logo">
        <a href="index"
        >Amazing <br />
            Restaurant</a
        >
    </h1>
    <nav class="nav primary-nav">
        <ul>
            <li><a href="/">Home</a></li>

            <li><a href="/products">Menu</a></li>

            <li><a href="/users">Account</a></li>

            <!--if user is not logged in, display log in/ sign up -->
            <li sec:authorize="!isAuthenticated()"><a href="/register">Log in / Sign up</a></li>
            <!--if user IS logged in, display logout -->
            <li sec:authorize="isAuthenticated()">
                <form action="/logout" method="post">
                    <input class="logout-btn" type="submit" value="Logout" />
                    <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
                </form>
            </li>
        </ul>
    </nav>
</header>


<section class="order-container">
    <div>
        <h2>Order Summary</h2>
        <h3>Thank you for your Order!</h3>
        <h3 th:text="${user.name}"></h3>
        <div th:if="${order}">
            <p>Order ID: <span th:text="${order.id}"></span></p>
            <ul>
                <li th:each="item : ${order.orderItems}">
                    <span th:text="${item.product.name}">Product Name</span> -
                    Quantity: <span th:text="${item.quantity}"></span> -
                    Price: <span th:text="${#numbers.formatDecimal(item.unitPrice, 0, 'COMMA', 2, 'POINT')}"></span>
                </li>
            </ul>

            <p th:if="${order.rewardUsed}">
                Discount Applied: <span>- $10.00</span>
            </p>

            <p>Total Amount: <span th:text="${order.totalAmount}"></span></p>
            <!-- Display other order details as needed -->
        </div>
        <a class="create-btn" href="/products">Continue Shopping</a>

    </div>

</section>

</body>


</html>
